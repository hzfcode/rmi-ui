(function(e,t){if("object"===typeof exports&&"object"===typeof module)module.exports=t();else if("function"===typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"===typeof exports?exports:e)[o]=n[o]}})(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s="024d")}({"024d":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bs-image",on:{mouseenter:function(t){e.showHover=!0},mouseleave:function(t){e.showHover=!1}}},[t("img",e._b({staticClass:"bs-image-inner",style:{"object-fit":e.fit},attrs:{src:e.src,name:e.name}},"img",e.$attrs,!1)),e.showHover?t("div",{staticClass:"bs-image-hover"},[t("div",{staticClass:"bs-image-hover-bottom"},[t("bs-button",{staticStyle:{width:"50%"},attrs:{type:"gray-nb",size:"ml"},on:{click:e.preview}},[e._v("Click to view")]),t("span"),t("bs-button",{staticStyle:{width:"50%"},attrs:{type:"light",size:"ml"},on:{click:e.download}},[e._v("Download now")])],1)]):e._e(),[e.showPreview?t("image-viewer",{attrs:{"on-close":e.closeViewer}}):e._e()]],2)},i=[],a=n("8b09"),s=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"viewer-fade"}},[t("div",{staticClass:"bs-image-viewer__wrapper"},[t("div",{staticClass:"bs-image-viewer__mask"}),t("div",{staticClass:"bs-image-close",on:{click:e.hide}},[t("i",{staticClass:"bs-icon-close-white"})]),t("div",{staticClass:"bs-image-viewer__actions"},[t("bs-button",{staticStyle:{width:"174px"},attrs:{type:"light",size:"ml"},on:{click:e.download}},[e._v("Download now")])],1),t("div",{staticClass:"el-image-viewer__canvas"},[t("img",{attrs:{src:e.src,name:e.name}})])])])},r=[];function c(e,t){if(!e)return void this.$message.error("下载失败，解析数据为空！");let n=window.URL.createObjectURL(e),o=document.createElement("a");o.style.display="none",o.href=n,o.setAttribute("download",t),document.body.appendChild(o),o.click()}function d(e,t){let n=document.createElement("a");n.style="display: none",n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function l(e,t){let n=document.createElement("a");n.download=t,n.href=e,n.click(),n.remove()}function u(e,t){let n=new Image;n.setAttribute("crossOrigin","anonymous"),n.src=e,n.onload=()=>{let e=document.createElement("canvas");e.width=n.width,e.height=n.height;let o=e.getContext("2d");o.drawImage(n,0,0,n.width,n.height),e.toBlob(e=>{let n=URL.createObjectURL(e);l(n,t),URL.revokeObjectURL(n)})}}function f(e,t){var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height;var o=e.getContext("2d");o.drawImage(n,0,0,n.width,n.height);var i=e.toDataURL("image/png"),a=document.createElement("a"),s=new MouseEvent("click");a.download=t||"photo",a.href=i,a.dispatchEvent(s)},n.src=e}var m={downloadLink:d,downloadurl:l,download:c,downloadImage:u,downloadImage2:f},p={name:"",components:{BsButton:a["default"]},props:{onClose:{type:Function,default:()=>{}}},inject:["image"],data(){return{src:"",name:""}},watch:{},computed:{},methods:{hide(){this.onClose()},download(){m.downloadImage(this.src,this.name)}},created(){},mounted(){this.src=this.image.src,this.name=this.image.name}},h=p,v=(n("6856"),n("2877")),w=Object(v["a"])(h,s,r,!1,null,"128d85fd",null),b=w.exports,g={name:"BsImage",components:{BsButton:a["default"],ImageViewer:b},props:{src:String,fit:{type:String,default:"fill"},name:String},data(){return{showHover:!1,showPreview:!1}},provide(){return{image:this}},watch:{},computed:{},methods:{preview(){this.showPreview=!0},download(){m.downloadImage(this.src,this.name)},closeViewer(){this.showPreview=!1,this.showHover=!1}},created(){},mounted(){}},_=g,y=(n("d2e9"),Object(v["a"])(_,o,i,!1,null,"e8c05e92",null)),C=y.exports;C.install=function(e){e.component(C.name,C)};t["default"]=C},1738:function(e,t,n){},2877:function(e,t,n){"use strict";function o(e,t,n,o,i,a,s,r){var c,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),o&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=c):i&&(c=r?function(){i.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(e,t){return c.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:d}}n.d(t,"a",(function(){return o}))},6856:function(e,t,n){"use strict";n("aed3")},"8b09":function(e,t,n){"use strict";n.r(t);var o=n("ee63");o["a"].install=function(e){e.component(o["a"].name,o["a"])},t["default"]=o["a"]},"9b02":function(e,t,n){},a227:function(e,t,n){"use strict";n("1738")},aed3:function(e,t,n){},d2e9:function(e,t,n){"use strict";n("9b02")},ee63:function(e,t,n){"use strict";var o=function(){var e=this,t=e._self._c;return t("button",{staticClass:"bs-button",class:[e.type?e.type:"",e.size?e.size:"",e.disabled?"dis":""],attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("click")}}},[t("span",[e._t("default")],2)])},i=[],a={name:"BsButton",components:{},props:{type:{type:String,default:"default"},disabled:{type:Boolean,default:!1},size:{type:String,default:""}},data(){return{}},watch:{},computed:{},methods:{},created(){},mounted(){}},s=a,r=(n("a227"),n("2877")),c=Object(r["a"])(s,o,i,!1,null,"5aa1f2b6",null);t["a"]=c.exports}})}));